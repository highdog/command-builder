<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•è¯­è¨€åˆ‡æ¢ä¿æŒå‘½ä»¤é€‰æ‹©</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-section {
            margin: 2rem 0;
            padding: 1rem;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin: 0.25rem;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        .lang-switch {
            background: #28a745;
        }
        
        .lang-switch:hover {
            background: #1e7e34;
        }
        
        select {
            padding: 0.5rem;
            margin: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            min-width: 200px;
        }
        
        .status {
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }
        
        .success { background: #d4edda; color: #155724; }
        .info { background: #d1ecf1; color: #0c5460; }
        .warning { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ æµ‹è¯•è¯­è¨€åˆ‡æ¢ä¿æŒå‘½ä»¤é€‰æ‹©</h1>
        
        <div class="status info">
            <h3>æµ‹è¯•è¯´æ˜</h3>
            <p>1. é€‰æ‹©ä¸€ä¸ªå‘½ä»¤</p>
            <p>2. åˆ‡æ¢è¯­è¨€</p>
            <p>3. éªŒè¯å‘½ä»¤é€‰æ‹©æ˜¯å¦ä¿æŒä¸å˜</p>
        </div>
        
        <div class="test-section">
            <h3>è¯­è¨€æ§åˆ¶</h3>
            <button class="lang-switch" onclick="window.parent.postMessage({action: 'switchLanguage', lang: 'zh'}, '*')">åˆ‡æ¢åˆ°ä¸­æ–‡</button>
            <button class="lang-switch" onclick="window.parent.postMessage({action: 'switchLanguage', lang: 'en'}, '*')">Switch to English</button>
            <p><strong>å½“å‰è¯­è¨€:</strong> <span id="current-lang">åŠ è½½ä¸­...</span></p>
        </div>
        
        <div class="test-section">
            <h3>æµ‹è¯•æ­¥éª¤</h3>
            <ol>
                <li>åœ¨ä¸»é¡µé¢é€‰æ‹©ä¸€ä¸ªå‘½ä»¤ï¼ˆå¦‚"Get Device Type"ï¼‰</li>
                <li>è§‚å¯Ÿå‘½ä»¤æ„å»ºåŒºåŸŸæ˜¾ç¤ºçš„å†…å®¹</li>
                <li>ç‚¹å‡»ä¸Šæ–¹çš„è¯­è¨€åˆ‡æ¢æŒ‰é’®</li>
                <li>éªŒè¯ï¼š
                    <ul>
                        <li>âœ… å‘½ä»¤é€‰æ‹©ä¸‹æ‹‰æ¡†ä»ç„¶é€‰ä¸­ç›¸åŒçš„å‘½ä»¤</li>
                        <li>âœ… å‘½ä»¤æ„å»ºåŒºåŸŸçš„æ–‡å­—å·²åˆ‡æ¢åˆ°æ–°è¯­è¨€</li>
                        <li>âœ… ç•Œé¢å…¶ä»–éƒ¨åˆ†çš„æ–‡å­—ä¹Ÿå·²åˆ‡æ¢</li>
                    </ul>
                </li>
            </ol>
        </div>
        
        <div class="test-section">
            <h3>é¢„æœŸè¡Œä¸º</h3>
            <div class="status success">
                <p><strong>âœ… æ­£ç¡®è¡Œä¸ºï¼š</strong></p>
                <ul>
                    <li>å‘½ä»¤é€‰æ‹©ä¿æŒä¸å˜</li>
                    <li>ç•Œé¢æ–‡å­—ç«‹å³åˆ‡æ¢</li>
                    <li>å‘½ä»¤æ„å»ºåŒºåŸŸå†…å®¹æ›´æ–°ä¸ºæ–°è¯­è¨€</li>
                </ul>
            </div>
            
            <div class="status warning">
                <p><strong>âŒ é”™è¯¯è¡Œä¸ºï¼ˆå·²ä¿®å¤ï¼‰ï¼š</strong></p>
                <ul>
                    <li>å‘½ä»¤é€‰æ‹©è¢«é‡ç½®ä¸º"è¯·é€‰æ‹©å‘½ä»¤"</li>
                    <li>éœ€è¦é‡æ–°é€‰æ‹©å‘½ä»¤</li>
                </ul>
            </div>
        </div>
        
        <div class="test-section">
            <h3>æŠ€æœ¯å®ç°</h3>
            <p>ä¿®å¤æ–¹æ³•ï¼šåœ¨<code>renderCommandSelect()</code>å‡½æ•°ä¸­ï¼š</p>
            <pre style="background: #f8f9fa; padding: 1rem; border-radius: 4px; overflow-x: auto;">
// ä¿å­˜å½“å‰é€‰æ‹©çš„å€¼
const currentValue = commandSelect.value;

// é‡æ–°æ¸²æŸ“é€‰é¡¹...

// æ¢å¤ä¹‹å‰é€‰æ‹©çš„å€¼
if (currentValue) {
    commandSelect.value = currentValue;
}</pre>
        </div>
    </div>

    <script>
        // ç›‘å¬æ¥è‡ªçˆ¶é¡µé¢çš„æ¶ˆæ¯
        window.addEventListener('message', function(event) {
            if (event.data.action === 'languageChanged') {
                updateLanguageDisplay(event.data.lang);
            }
        });
        
        function updateLanguageDisplay(lang) {
            const display = document.getElementById('current-lang');
            if (display) {
                display.textContent = lang === 'zh' ? 'ä¸­æ–‡' : 'English';
            }
        }
        
        // åˆå§‹åŒ–æ˜¾ç¤º
        updateLanguageDisplay('zh');
    </script>
</body>
</html>
